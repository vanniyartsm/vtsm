"use strict";!function(e){e.attrFn=e.attrFn||{};var t="ontouchstart"in window,a={tap_pixel_range:5,swipe_h_threshold:50,swipe_v_threshold:50,taphold_threshold:750,doubletap_int:500,touch_capable:t,orientation_support:"orientation"in window&&"onorientationchange"in window,startevent:t?"touchstart":"mousedown",endevent:t?"touchend":"mouseup",moveevent:t?"touchmove":"mousemove",tapevent:t?"tap":"click",scrollevent:t?"touchmove":"scroll",hold_timer:null,tap_timer:null};e.isTouchCapable=function(){return a.touch_capable},e.getStartEvent=function(){return a.startevent},e.getEndEvent=function(){return a.endevent},e.getMoveEvent=function(){return a.moveevent},e.getTapEvent=function(){return a.tapevent},e.getScrollEvent=function(){return a.scrollevent},e.each(["tapstart","tapend","tapmove","tap","tap2","tap3","tap4","singletap","doubletap","taphold","swipe","swipeup","swiperight","swipedown","swipeleft","swipeend","scrollstart","scrollend","orientationchange"],function(t,a){e.fn[a]=function(e){return e?this.on(a,e):this.trigger(a)},e.attrFn[a]=!0}),e.event.special.tapstart={setup:function(){var t=this,o=e(t);o.on(a.startevent,o.data.tapStartFunc=function(e){if(e.originalEvent){if(e.which&&1!==e.which)return!1;var n=e.originalEvent,i={position:{x:a.touch_capable?n.touches[0].screenX:e.screenX,y:a.touch_capable?n.touches[0].screenY:e.screenY},offset:{x:a.touch_capable?Math.round(n.changedTouches[0].pageX-(o.offset()?o.offset().left:0)):Math.round(e.pageX-(o.offset()?o.offset().left:0)),y:a.touch_capable?Math.round(n.changedTouches[0].pageY-(o.offset()?o.offset().top:0)):Math.round(e.pageY-(o.offset()?o.offset().top:0))},time:Date.now(),target:e.target};return _(t,"tapstart",e,i),!0}})},remove:function(){e(this).off(a.startevent,e(this).data.tapStartFunc)}},e.event.special.tapmove={setup:function(){var t=this,o=e(t);o.on(a.moveevent,o.data.tapMoveFunc=function(e){if(e.originalEvent){var n=e.originalEvent,i={position:{x:a.touch_capable?n.touches[0].screenX:e.screenX,y:a.touch_capable?n.touches[0].screenY:e.screenY},offset:{x:a.touch_capable?Math.round(n.changedTouches[0].pageX-(o.offset()?o.offset().left:0)):Math.round(e.pageX-(o.offset()?o.offset().left:0)),y:a.touch_capable?Math.round(n.changedTouches[0].pageY-(o.offset()?o.offset().top:0)):Math.round(e.pageY-(o.offset()?o.offset().top:0))},time:Date.now(),target:e.target};return _(t,"tapmove",e,i),!0}})},remove:function(){e(this).off(a.moveevent,e(this).data.tapMoveFunc)}},e.event.special.tapend={setup:function(){var t=this,o=e(t);o.on(a.endevent,o.data.tapEndFunc=function(e){if(e.originalEvent){var n=e.originalEvent,i={position:{x:a.touch_capable?n.changedTouches[0].screenX:e.screenX,y:a.touch_capable?n.changedTouches[0].screenY:e.screenY},offset:{x:a.touch_capable?Math.round(n.changedTouches[0].pageX-(o.offset()?o.offset().left:0)):Math.round(e.pageX-(o.offset()?o.offset().left:0)),y:a.touch_capable?Math.round(n.changedTouches[0].pageY-(o.offset()?o.offset().top:0)):Math.round(e.pageY-(o.offset()?o.offset().top:0))},time:Date.now(),target:e.target};return _(t,"tapend",e,i),!0}})},remove:function(){e(this).off(a.endevent,e(this).data.tapEndFunc)}},e.event.special.taphold={setup:function(){var t,o=this,n=e(o),i={x:0,y:0},r=0,s=0;n.on(a.startevent,n.data.tapHoldFunc1=function(e){if(e.originalEvent){if(e.which&&1!==e.which)return!1;n.data("tapheld",!1),t=e.target;var c=e.originalEvent,p=Date.now(),h={x:a.touch_capable?c.touches[0].screenX:e.screenX,y:a.touch_capable?c.touches[0].screenY:e.screenY},u={x:a.touch_capable?c.touches[0].pageX-c.touches[0].target.offsetLeft:e.offsetX,y:a.touch_capable?c.touches[0].pageY-c.touches[0].target.offsetTop:e.offsetY};i.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,i.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,r=i.x,s=i.y;var f=n.parent().data("threshold")?n.parent().data("threshold"):n.data("threshold"),l=void 0!==f&&!1!==f&&parseInt(f)?parseInt(f):a.taphold_threshold;return a.hold_timer=window.setTimeout(function(){var f=i.x-r,l=i.y-s;if(e.target==t&&(i.x==r&&i.y==s||f>=-a.tap_pixel_range&&f<=a.tap_pixel_range&&l>=-a.tap_pixel_range&&l<=a.tap_pixel_range)){n.data("tapheld",!0);var g=Date.now(),d={x:a.touch_capable?c.touches[0].screenX:e.screenX,y:a.touch_capable?c.touches[0].screenY:e.screenY},v={x:a.touch_capable?Math.round(c.changedTouches[0].pageX-(n.offset()?n.offset().left:0)):Math.round(e.pageX-(n.offset()?n.offset().left:0)),y:a.touch_capable?Math.round(c.changedTouches[0].pageY-(n.offset()?n.offset().top:0)):Math.round(e.pageY-(n.offset()?n.offset().top:0))},w={startTime:p,endTime:g,startPosition:h,startOffset:u,endPosition:d,endOffset:v,duration:g-p,target:e.target};_(o,"taphold",e,w)}},l),!0}}).on(a.endevent,n.data.tapHoldFunc2=function(){n.data("tapheld",!1),window.clearTimeout(a.hold_timer)}).on(a.moveevent,n.data.tapHoldFunc3=function(e){e.originalEvent&&(r=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,s=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY)})},remove:function(){e(this).off(a.startevent,e(this).data.tapHoldFunc1).off(a.endevent,e(this).data.tapHoldFunc2).off(a.moveevent,e(this).data.tapHoldFunc3)}},e.event.special.doubletap={setup:function(){var t,o,n=this,i=e(n),r=null,s=!1;i.on(a.startevent,i.data.doubleTapFunc1=function(t){if(t.originalEvent)return!(t.which&&1!==t.which||(i.data("doubletapped",!1),t.target,o=t.originalEvent,r||(r={position:{x:a.touch_capable?o.touches[0].screenX:t.screenX,y:a.touch_capable?o.touches[0].screenY:t.screenY},offset:{x:a.touch_capable?Math.round(o.changedTouches[0].pageX-(i.offset()?i.offset().left:0)):Math.round(t.pageX-(i.offset()?i.offset().left:0)),y:a.touch_capable?Math.round(o.changedTouches[0].pageY-(i.offset()?i.offset().top:0)):Math.round(t.pageY-(i.offset()?i.offset().top:0))},time:Date.now(),target:t.target,element:t.originalEvent.srcElement,index:e(t.target).index()}),0))}).on(a.endevent,i.data.doubleTapFunc2=function(c){if(c.originalEvent){var p=Date.now(),h=p-(i.data("lastTouch")||p+1);if(window.clearTimeout(t),h<a.doubletap_int&&e(c.target).index()==r.index&&h>100){i.data("doubletapped",!0),window.clearTimeout(a.tap_timer);var u={position:{x:a.touch_capable?c.originalEvent.changedTouches[0].screenX:c.screenX,y:a.touch_capable?c.originalEvent.changedTouches[0].screenY:c.screenY},offset:{x:a.touch_capable?Math.round(o.changedTouches[0].pageX-(i.offset()?i.offset().left:0)):Math.round(c.pageX-(i.offset()?i.offset().left:0)),y:a.touch_capable?Math.round(o.changedTouches[0].pageY-(i.offset()?i.offset().top:0)):Math.round(c.pageY-(i.offset()?i.offset().top:0))},time:Date.now(),target:c.target,element:c.originalEvent.srcElement,index:e(c.target).index()},f={firstTap:r,secondTap:u,interval:u.time-r.time};s||(_(n,"doubletap",c,f),r=null),s=!0,window.setTimeout(function(){s=!1},a.doubletap_int)}else i.data("lastTouch",p),t=window.setTimeout(function(){r=null,window.clearTimeout(t)},a.doubletap_int,[c]);i.data("lastTouch",p)}})},remove:function(){e(this).off(a.startevent,e(this).data.doubleTapFunc1).off(a.endevent,e(this).data.doubleTapFunc2)}},e.event.special.singletap={setup:function(){var t=this,o=e(t),n=null,i=null,r={x:0,y:0};o.on(a.startevent,o.data.singleTapFunc1=function(e){if(e.originalEvent)return!(e.which&&1!==e.which||(i=Date.now(),n=e.target,r.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,r.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,0))}).on(a.endevent,o.data.singleTapFunc2=function(e){if(e.originalEvent&&e.target==n){var s=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:e.pageX,c=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageY:e.pageY;a.tap_timer=window.setTimeout(function(){var n=r.x-s,p=r.y-c;if(!o.data("doubletapped")&&!o.data("tapheld")&&(r.x==s&&r.y==c||n>=-a.tap_pixel_range&&n<=a.tap_pixel_range&&p>=-a.tap_pixel_range&&p<=a.tap_pixel_range)){var h=e.originalEvent,u={position:{x:a.touch_capable?h.changedTouches[0].screenX:e.screenX,y:a.touch_capable?h.changedTouches[0].screenY:e.screenY},offset:{x:a.touch_capable?Math.round(h.changedTouches[0].pageX-(o.offset()?o.offset().left:0)):Math.round(e.pageX-(o.offset()?o.offset().left:0)),y:a.touch_capable?Math.round(h.changedTouches[0].pageY-(o.offset()?o.offset().top:0)):Math.round(e.pageY-(o.offset()?o.offset().top:0))},time:Date.now(),target:e.target};u.time-i<a.taphold_threshold&&_(t,"singletap",e,u)}},a.doubletap_int)}})},remove:function(){e(this).off(a.startevent,e(this).data.singleTapFunc1).off(a.endevent,e(this).data.singleTapFunc2)}},e.event.special.tap={setup:function(){var t,o,n=this,i=e(n),r=!1,s=null,c={x:0,y:0};i.on(a.startevent,i.data.tapFunc1=function(e){if(e.originalEvent)return!(e.which&&1!==e.which||(r=!0,c.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,c.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,t=Date.now(),s=e.target,o=e.originalEvent.targetTouches?e.originalEvent.targetTouches:[e],0))}).on(a.endevent,i.data.tapFunc2=function(e){if(e.originalEvent){var p=e.originalEvent.targetTouches?e.originalEvent.changedTouches[0].pageX:e.pageX,h=e.originalEvent.targetTouches?e.originalEvent.changedTouches[0].pageY:e.pageY,u=c.x-p,f=c.y-h;if(s==e.target&&r&&Date.now()-t<a.taphold_threshold&&(c.x==p&&c.y==h||u>=-a.tap_pixel_range&&u<=a.tap_pixel_range&&f>=-a.tap_pixel_range&&f<=a.tap_pixel_range)){for(var l=e.originalEvent,g=[],d=0;d<o.length;d++){var v={position:{x:a.touch_capable?l.changedTouches[d].screenX:e.screenX,y:a.touch_capable?l.changedTouches[d].screenY:e.screenY},offset:{x:a.touch_capable?Math.round(l.changedTouches[d].pageX-(i.offset()?i.offset().left:0)):Math.round(e.pageX-(i.offset()?i.offset().left:0)),y:a.touch_capable?Math.round(l.changedTouches[d].pageY-(i.offset()?i.offset().top:0)):Math.round(e.pageY-(i.offset()?i.offset().top:0))},time:Date.now(),target:e.target};g.push(v)}_(n,"tap",e,g)}}})},remove:function(){e(this).off(a.startevent,e(this).data.tapFunc1).off(a.endevent,e(this).data.tapFunc2)}},e.event.special.swipe={setup:function(){var t,o=e(this),n=!1,i=!1,r={x:0,y:0},s={x:0,y:0};o.on(a.startevent,o.data.touchStart=function(i){if(i.originalEvent){o=e(i.currentTarget),r.x=i.originalEvent.targetTouches?i.originalEvent.targetTouches[0].pageX:i.pageX,r.y=i.originalEvent.targetTouches?i.originalEvent.targetTouches[0].pageY:i.pageY,s.x=r.x,s.y=r.y,n=!0;var c=i.originalEvent;t={position:{x:a.touch_capable?c.touches[0].screenX:i.screenX,y:a.touch_capable?c.touches[0].screenY:i.screenY},offset:{x:a.touch_capable?Math.round(c.changedTouches[0].pageX-(o.offset()?o.offset().left:0)):Math.round(i.pageX-(o.offset()?o.offset().left:0)),y:a.touch_capable?Math.round(c.changedTouches[0].pageY-(o.offset()?o.offset().top:0)):Math.round(i.pageY-(o.offset()?o.offset().top:0))},time:Date.now(),target:i.target}}}),o.on(a.moveevent,o.data.touchMove=function(c){if(c.originalEvent){var p;o=e(c.currentTarget),s.x=c.originalEvent.targetTouches?c.originalEvent.targetTouches[0].pageX:c.pageX,s.y=c.originalEvent.targetTouches?c.originalEvent.targetTouches[0].pageY:c.pageY;var h=o.parent().data("xthreshold")?o.parent().data("xthreshold"):o.data("xthreshold"),u=o.parent().data("ythreshold")?o.parent().data("ythreshold"):o.data("ythreshold"),f=void 0!==h&&!1!==h&&parseInt(h)?parseInt(h):a.swipe_h_threshold,l=void 0!==u&&!1!==u&&parseInt(u)?parseInt(u):a.swipe_v_threshold;if(r.y>s.y&&r.y-s.y>l&&(p="swipeup"),r.x<s.x&&s.x-r.x>f&&(p="swiperight"),r.y<s.y&&s.y-r.y>l&&(p="swipedown"),r.x>s.x&&r.x-s.x>f&&(p="swipeleft"),null!=p&&n){r.x=0,r.y=0,s.x=0,s.y=0,n=!1;var g=c.originalEvent,d={position:{x:a.touch_capable?g.touches[0].screenX:c.screenX,y:a.touch_capable?g.touches[0].screenY:c.screenY},offset:{x:a.touch_capable?Math.round(g.changedTouches[0].pageX-(o.offset()?o.offset().left:0)):Math.round(c.pageX-(o.offset()?o.offset().left:0)),y:a.touch_capable?Math.round(g.changedTouches[0].pageY-(o.offset()?o.offset().top:0)):Math.round(c.pageY-(o.offset()?o.offset().top:0))},time:Date.now(),target:c.target},v=Math.abs(t.position.x-d.position.x),_=Math.abs(t.position.y-d.position.y),w={startEvnt:t,endEvnt:d,direction:p.replace("swipe",""),xAmount:v,yAmount:_,duration:d.time-t.time};i=!0,o.trigger("swipe",w).trigger(p,w)}}}),o.on(a.endevent,o.data.touchEnd=function(r){if(r.originalEvent){o=e(r.currentTarget);var s="";if(i){var c=o.data("xthreshold"),p=o.data("ythreshold"),h=void 0!==c&&!1!==c&&parseInt(c)?parseInt(c):a.swipe_h_threshold,u=void 0!==p&&!1!==p&&parseInt(p)?parseInt(p):a.swipe_v_threshold,f=r.originalEvent,l={position:{x:a.touch_capable?f.changedTouches[0].screenX:r.screenX,y:a.touch_capable?f.changedTouches[0].screenY:r.screenY},offset:{x:a.touch_capable?Math.round(f.changedTouches[0].pageX-(o.offset()?o.offset().left:0)):Math.round(r.pageX-(o.offset()?o.offset().left:0)),y:a.touch_capable?Math.round(f.changedTouches[0].pageY-(o.offset()?o.offset().top:0)):Math.round(r.pageY-(o.offset()?o.offset().top:0))},time:Date.now(),target:r.target};t.position.y>l.position.y&&t.position.y-l.position.y>u&&(s="swipeup"),t.position.x<l.position.x&&l.position.x-t.position.x>h&&(s="swiperight"),t.position.y<l.position.y&&l.position.y-t.position.y>u&&(s="swipedown"),t.position.x>l.position.x&&t.position.x-l.position.x>h&&(s="swipeleft");var g=Math.abs(t.position.x-l.position.x),d=Math.abs(t.position.y-l.position.y),v={startEvnt:t,endEvnt:l,direction:s.replace("swipe",""),xAmount:g,yAmount:d,duration:l.time-t.time};o.trigger("swipeend",v)}n=!1,i=!1}})},remove:function(){e(this).off(a.startevent,e(this).data.touchStart).off(a.moveevent,e(this).data.touchMove).off(a.endevent,e(this).data.touchEnd)}},e.event.special.scrollstart={setup:function(){var t,o,n=this,i=e(n);function r(e,a){_(n,(t=a)?"scrollstart":"scrollend",e)}i.on(a.scrollevent,i.data.scrollFunc=function(e){t||r(e,!0),clearTimeout(o),o=setTimeout(function(){r(e,!1)},50)})},remove:function(){e(this).off(a.scrollevent,e(this).data.scrollFunc)}};var o,n,i,r,s=e(window),c={0:!0,180:!0};if(a.orientation_support){var p=window.innerWidth||s.width(),h=window.innerHeight||s.height();i=p>h&&p-h>50,r=c[window.orientation],(i&&r||!i&&!r)&&(c={"-90":!0,90:!0})}function u(){var e=o();e!==n&&(n=e,s.trigger("orientationchange"))}e.event.special.orientationchange={setup:function(){return!a.orientation_support&&(n=o(),s.on("throttledresize",u),!0)},teardown:function(){return!a.orientation_support&&(s.off("throttledresize",u),!0)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=o(),t.apply(this,arguments)}}},e.event.special.orientationchange.orientation=o=function(){var e=document.documentElement;return(a.orientation_support?c[window.orientation]:e&&e.clientWidth/e.clientHeight<1.1)?"portrait":"landscape"},e.event.special.throttledresize={setup:function(){e(this).on("resize",d)},teardown:function(){e(this).off("resize",d)}};var f,l,g,d=function(){l=Date.now(),(g=l-v)>=250?(v=l,e(this).trigger("throttledresize")):(f&&window.clearTimeout(f),f=window.setTimeout(u,250-g))},v=0;function _(t,a,o,n){var i=o.type;o.type=a,e.event.dispatch.call(t,o,n),o.type=i}e.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe",tap2:"tap"},function(t,a){var o=function(){};e.event.special[t]={setup:function(){e(this).on(a,o)},teardown:function(){e(this).off(a,o)}}})}(jQuery);