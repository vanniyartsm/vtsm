function touchX(t){return t.touches[0].clientX}function touchY(t){return t.touches[0].clientY}var isPassiveSupported=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),vueTouchEvents={install:function(t,e){function c(t){var e=this.$$touchObj;e.supportTouch=!0,e.touchStarted||(h(this),e.touchStarted=!0,e.touchMoved=!1,e.swipeOutBounded=!1,e.startX=touchX(t),e.startY=touchY(t),e.currentX=0,e.currentY=0,e.touchStartTime=t.timeStamp)}function o(t){var c=this.$$touchObj;if(c.currentX=touchX(t),c.currentY=touchY(t),c.touchMoved){if(!c.swipeOutBounded){var o=e.swipeTolerance;c.swipeOutBounded=Math.abs(c.startX-c.currentX)>o&&Math.abs(c.startY-c.currentY)>o}}else{var s=e.tapTolerance;c.touchMoved=Math.abs(c.startX-c.currentX)>s||Math.abs(c.startY-c.currentY)>s}}function s(){var t=this.$$touchObj;l(this),t.touchStarted=t.touchMoved=!1,t.startX=t.startY=0}function n(t){var c=this.$$touchObj;if(c.touchStarted=!1,l(this),c.touchMoved){if(!c.swipeOutBounded){var o,s=e.swipeTolerance;o=Math.abs(c.startX-c.currentX)<s?c.startY>c.currentY?"top":"bottom":c.startX>c.currentX?"left":"right",c.callbacks["swipe."+o]?r(t,this,"swipe."+o,o):r(t,this,"swipe",o)}}else c.callbacks.longtap&&t.timeStamp-c.touchStartTime>e.longTapTimeInterval?(t.preventDefault(),r(t,this,"longtap")):r(t,this,"tap")}function u(t){this.$$touchObj.supportTouch||e.disableClick||r(t,this,"tap")}function a(){h(this)}function i(){l(this)}function r(t,e,c,o){var s=e.$$touchObj.callbacks[c]||[];if(0===s.length)return null;for(var n=0;n<s.length;n++){var u=s[n];u.modifiers.self&&t.target!==t.currentTarget||"function"==typeof u.value&&(o?u.value(o,t):u.value(t))}}function h(t){var c=t.$$touchClass||e.touchClass;c&&t.classList.add(c)}function l(t){var c=t.$$touchClass||e.touchClass;c&&t.classList.remove(c)}e=Object.assign({},{disableClick:!1,tapTolerance:10,swipeTolerance:30,longTapTimeInterval:400,touchClass:""},e||{}),t.directive("touch",{bind:function(t,r){t.$$touchObj=t.$$touchObj||{supportTouch:!1,callbacks:{},hasBindTouchEvents:!1};var h=r.arg||"tap";switch(h){case"swipe":var l=r.modifiers;if(l.left||l.right||l.top||l.bottom){for(var v in r.modifiers)if(["left","right","top","bottom"].indexOf(v)>=0){var d="swipe."+v;t.$$touchObj.callbacks[d]=t.$$touchObj.callbacks[d]||[],t.$$touchObj.callbacks[d].push(r)}}else t.$$touchObj.callbacks.swipe=t.$$touchObj.callbacks.swipe||[],t.$$touchObj.callbacks.swipe.push(r);break;default:t.$$touchObj.callbacks[h]=t.$$touchObj.callbacks[h]||[],t.$$touchObj.callbacks[h].push(r)}if(!t.$$touchObj.hasBindTouchEvents){var b=!!isPassiveSupported&&{passive:!0};t.addEventListener("touchstart",c,b),t.addEventListener("touchmove",o,b),t.addEventListener("touchcancel",s),t.addEventListener("touchend",n),e.disableClick||(t.addEventListener("click",u),t.addEventListener("mouseenter",a),t.addEventListener("mouseleave",i)),t.$$touchObj.hasBindTouchEvents=!0}},unbind:function(t){t.removeEventListener("touchstart",c),t.removeEventListener("touchmove",o),t.removeEventListener("touchcancel",s),t.removeEventListener("touchend",n),e.disableClick||(t.removeEventListener("click",u),t.removeEventListener("mouseenter",a),t.removeEventListener("mouseleave",i)),delete t.$$touchObj}}),t.directive("touch-class",{bind:function(t,e){t.$$touchClass=e.value},unbind:function(t){delete t.$$touchClass}})}};"object"==typeof module?module.exports=vueTouchEvents:"function"==typeof define&&define.amd?define([],function(){return vueTouchEvents}):window.Vue&&(window.vueTouchEvents=vueTouchEvents,Vue.use(vueTouchEvents));